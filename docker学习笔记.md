# Docker

## 优点

## Docker基本概念

### 镜像

Docker 镜像就是一个只读的模板，镜像可以用来创建Docker容器。

下载镜像

使用镜像

创建镜像

利用Dockerfile来创建镜像

#### 联合文件系统

联合文件系统允许多个文件系统叠加，并表现为一个单一的文件系统。文件夹中的文件可以来自多个文件系统，但如果有两个文件的路径完全相同，
最后挂载的文件则会覆盖较早挂载的文件。Docker支持多种不同的联合文件系统实现，包括AUFS、Overlay、devicemapper、BTRFS和ZFS。
具体使用哪种实现取决于你所用的系统，可以通过docker info命令，查看输出结果中“Storage Driver”的值得知。


通过利用Dockerfile的ENTRYPOINT指令，我们可以让用户更易于使用这个镜像。


> 注意一个镜像不能超过127层

### 容器

Docker 利用容器来运行应用。

容器是从镜像创建的运行实例。它可以被启动、开始、停止、删除。每个容器都是相互隔离的、保证安全的平台。

可以把容器看做是一个简易版的 Linux 环境（包括root用户权限、进程空间、用户空间和网络空间等）和运行在其中的应用程序。

启动容器有两种方式，一种是基于镜像新建一个容器并启动，另外一个是将在终止状态（stopped）的容器重新启动。

### 仓库

仓库是集中存放镜像文件的场所。有时候会把仓库和仓库注册服务器（Registry）混为一谈，并不严格区分。实际上，仓库注册服务器上往往存放着多个仓库，每个仓库中又包含了多个镜像，每个镜像有不同的标签（tag）。

仓库分为公开仓库（Public）和私有仓库（Private）两种形式。

最大的公开仓库是 Docker Hub，存放了数量庞大的镜像供用户下载。 国内的公开仓库包括 Docker Pool 等，可以提供大陆用户更稳定快速的访问。

当然，用户也可以在本地网络内创建一个私有仓库。

当用户创建了自己的镜像之后就可以使用 push 命令将它上传到公有或者私有仓库，这样下次在另外一台机器上使用这个镜像时候，只需要从仓库上 pull 下来就可以了。

注：Docker 仓库的概念跟 Git 类似，注册服务器可以理解为 GitHub 这样的托管服务。