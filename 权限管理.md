---
title: 权限管理
date: 2016-07-06 14:15:05
tags: Security
---
# 组织结构的种类及特点

1、直线制
直线制是一种最简单的集权式组织结构形式，又称军队式结构。其领导关系按垂直系统建立，不设立专门的职能机构，自上而下形同直线。
优点：结构简单、指挥系统清晰、统一；责权关系明确；横向联系少，内部协调容易；信息沟通迅速，解决问题及时，管理效率比较高。
缺点：缺乏专业化的管理分工，经营管理事务依赖于少数几个人。当企业规模扩大时，管理工作会超过个人能力所限，不利于集中精力研究企业管理的重大问题。
适用范围：规模较小或业务活动简单、稳定的企业。
2、直线职能制
直线职能制是一种以直线制结构为基础，在厂长（经理）领导下设置相应的职能部门，实行厂长（经理）统一指挥于职能部门参谋、指导相结合的组织结构形式。
特点：厂长（经理）对业务和职能部门均实行垂直式领导，各级直线管理人员在职权范围内对直接下属有指挥和命令的权力，并对此承担全部责任。职能管理部门是厂长（经理）的参谋和助手，没有直接指挥权，它与业务部门的关系只是一种指导关系，而非领导关系。
适用范围：规模中等的企业。随着规模的进一步扩大，将倾向于更多的分权。
3、事业部制
事业部制也成分权制结构，是一种在直线职能制基础上演变而成的现代企业组织结构。事业部制结构遵循“集中决策，分散经营”的总原则，实行集中决策指导下的分散经营，按产品、地区和顾客等标志将企业划分为若干相对独立的经营单位，分别组成事业部。各事业部可根据需要设置相应的职能部门。
优点：权力下放，有利于管理高层人员从日常行政事务中摆脱出来，集中精力考虑重大战略问题。各事业部主管拥有很大的自主权，有助于增强其责任感，发挥主动性和创造性，提高企业经营适应能力。各事业部集中从事某一方面的经营活动，实现高度专业化，整个企业可以容纳若干经营特点有很大差别的事业部，形成大型联合企业。各事业部经营责任和权限明确，物质利益与经营状况紧密挂钩。
缺点：容易造成机构重叠，管理人员膨胀。各事业部独立性强，考虑问题时容易忽视企业整体利益。
适用范围：规模大、业务多样化、市场环境差异大、要求具有较强适应性的企业。
4、矩阵制
矩阵制是由职能部门系列和为完成某一临时任务而组建的项目小组系列组成，它的最大特点在于具有双道命令系统。
优点：将企业横向、纵向进行了很好的联合。能在不增加人员的前提下，将不同部门专业人员集中起来。较好地解决了组织结构相对稳定和管理任务多变之间的矛盾。实现了企业综合管理与专业管理的结合。
缺点：组织关系比较复杂
5、分公司与子公司的异同
子公司：受集团或母公司控制，但在法律上独立的法人企业。
特点：有自己的公司名称和董事会，有对立的法人财产，可以以自己名义从事业务和民事诉讼活动。
分公司：母公司的分支机构或附属机构。
特点：在法律和经济上均无独立性，不是独立的法人企业。没有自己的独立名称和董事会，资产是母公司资产的一部分；在资不抵债情况下，母公司对其债务负责。

参考资料：http://blog.csdn.net/wangpeng047/article/details/7280800

## 权限设计

可简单表述为这样的逻辑表达式：判断“Who对What(Which)进行How的操作”的逻辑表达式是否为真。

**设计中将常常变化的“定制”特点比较强的部分判断为业务逻辑，而将常常相同的“通用”特点比较强的部分判断为权限逻辑就是基于这样的思路。**   


>**在企业环境中的访问控制方法，一般有三种：**  

  1.自主型访问控制方法：目前在我国的大多数的信息系统中的访问控制模块中基本是借助于自主型访问控制方法中的访问控制列表(ACLs)。   
  2.强制型访问控制方法：用于多层次安全级别的军事应用。   
  3.基于角色的访问控制方法（RBAC）：是目前公认的解决大型企业的统一资源访问控制的有效方法。其显著的两大特征是：1.减小授权管理的复杂性，降低管理开销。2.灵活地支持企业的安全策略，并对企业的变化有很大的伸缩性。

**设计原则归结为：“系统只提供粗粒度的权限，细粒度的权限被认为是业务逻辑的职责”。权限公式：Who+What(Which)+How   的问题，在这里我们实现What和部分Which的权限问题(粗粒度和细粒度相合，到一定的程度)，其他的权限问题留给业务逻辑解决**   

### 名词概念
	 Who：权限的拥用者或主体（Principal(负责人)、User、Group、Role、Actor等等）   
	 What：权限针对的对象或资源（Resource、Class）。   
   How：具体的权限（Privilege,   正向授权与负向授权）。   
   Role：是角色，拥有一定数量的权限。   
   Operator：操作，表明对What的How操作。
### 解释
	1、User：与Role相关，用户仅仅是纯粹的用户，权限是被分离出去了的。User是不能与Privilege直接相关的，User要拥有对某种资源的权限，
    必须通过Role去关联。解决Who的问题。   
    2、Resource：就是系统的资源，比如部门新闻，文档等各种可以被提供给用户访问的对象。   
    3、Privilege：是Resource   Related的权限。就是指，这个权限是绑定在特定的资源实例上的。比如说部门新闻的发布权限，叫做"部门新闻发布权限"。这就表明，该Privilege是一个发布权限，而且是针对部门新闻这种资源的一种发布权限。Privilege是由Creator在做开发时就确定的。Privilege   如"删除"   是一个抽象的名词，当它不与任何具体的   Object   或   Resource   绑定在一起时是没有任何意义的。拿新闻发布来说，发布是一种权限，但是只说发布它是毫无意义的。因为不知道发布可以操作的对象是什么。只有当发布与新闻结合在一起时，才会产生真正的Privilege。这就是Privilege Instance。   
    4、Role：是粗粒度和细粒度(业务逻辑)的接口，一个基于粗粒度控制的权限框架软件，对外的接口应该是Role，具体业务实现可以直接继承或拓展丰富Role的内容，Role不是如同User或Group的具体实体，它是接口概念，抽象的通称。   
    5、Operator的定义包括了Resource、Type和Method概念。即What和How的概念。之所以将What和How绑定在一起作为一个Operator概念而不是分开建模再建立关联，这是因为很多的How对于某What才有意义。比如，发布操作对新闻对象才有意义，对用户对象则没有意义。

### 权限系统的核心
  - 创建权限   
  - 分配权限
  - 使用权限

1.Creator创造Privilege，Creator在设计和实现系统时会划分，一个子系统或称为模块，应该有哪些权限。这里完成的是Privilege与Resource的对象声明，并没有真正将Privilege与具体Resource实例联系在一起，形成Operator。   
2.Administrator指定Privilege与Resource Instance的关联。在这一步，权限真正与资源实例联系到了一起，   产生了Operator（Privilege   Instance）。Administrator利用Operator这个基本元素，来创造他理想中的权限模型。如，创建角色，创建用户组，给用户组分配用户，将用户组与角色关联等等...这些操作都是由Administrator来完成的。   
3.User使用Administrator分配给的权限去使用各个子系统。Administrator是用户，在他的心目中有一个比较适合他管理和维护的权限模型。于是，程序员只要回答一个问题，就是什么权限可以访问什么资源，也就是前面说的   Operator。程序员提供Operator就意味着给系统穿上了盔甲。Administrator就可以按照他的意愿来建立他所希望的权限框架可以自行增加，删除，管理Resource和Privilege之间关系。可以自行设定用户User和角色Role的对应关系。(如果将Creator看作是Basic的发明者，Administrator就是Basic的使用者，他可以做一些脚本式的编程)   Operator是这个系统中最关键的部分，它是一个纽带，一个系在Programmer，Administrator，User之间的纽带

**权限设计通常包括数据库设计、应用程序接口(API)设计、程序实现三个部分。**

### 表设计

   1   角色（即用户组）表：包括三个字段，ID，角色名，对该角色的描述；     
  2   用户表：包括三个或以上字段，ID，用户名，对该用户的描述，其它（如地址、电话等信息）；     
  3   角色-用户对应表：该表记录用户与角色之间的对应关系，一个用户可以隶属于多个角色，一个角色组也可拥有多个用户。包括三个字段，ID，角色ID，用户ID；     
  4   限制内容列表：该表记录所有需要加以权限区分限制的数据表、功能和字段等内容及其描述，包括三个字段，ID，名称，描述；     
  5   权限列表：该表记录所有要加以控制的权限，如录入、修改、删除、执行等，也包括三个字段，ID，名称，描述；     
  6   权限-角色-用户对应表：一般情况下，我们对角色/用户所拥有的权限做如下规定，角色拥有明令允许的权限，其它一律禁止，用户继承所属角色的全部权限，在此范围内的权限除明令禁止外全部允许，范围外权限除明令允许外全部禁止。该表的设计是权限管理的重点，设计的思路也很多，可以说各有千秋，不能生搬硬套说某种方法好。对此，我的看法是就个人情况，找自己觉得合适能解决问题的用。

  先说第一种也是最容易理解的方法，设计五个字段：ID，限制内容ID，权限ID，角色/用户类型（布尔型字段，用来描述一条记录记录的是角色权限还是用户权限），角色/用户ID，权限类型（布尔型字段，用来描述一条记录表示允许还是禁止
