# 虚拟机字节码执行引擎

## 运行时栈帧结构

栈帧（Stack Frame）是用于支持虚拟机进行方法调用和方法执行的数据结构，它是虚拟机运行时数据区中的虚拟机栈的栈元素。

在编译代码的时候，栈帧中需要多大的局部变量表，多深的操作数栈都已经完全确定了，并且写入到方法表的Code属性之中。因此栈帧需要分配多少内存，不会受到程序运行期变量数据的影响，而仅仅
取决于具体的虚拟机实现。

**局部变量表**

局部变量表最小单位是槽，虚拟机规范中并没有明确指定槽的大小。

虚拟机通过索引定位的方式使用局部变量表。

局部变量表中的Slot是可以重用的，在某些情况下，Slot的复用会直接影响到系统的垃圾收集行为。

如果一个局部变靓定义了但没有赋初始值是不能使用的，不要认为Java中任何情况下都存在诸如整型变量默认为0，布尔型变靓默认为false等这样的默认值。

**操作数栈**

**动态连接**

静态分派

静态类型确定

动态分派

动态语言

“变量无类型而变量值才有类型”

JDK 1.7之后

MethodHandle

MethodType

MethodHandle和Reflection

invokedynamic

Java逆向移动工具

Javac编译器
    编译器过程

1、解析与填充符号表

2、注解处理

3、分析与字节码生成

Java语法糖的味道

Java语言中的泛型只存在程序源码中，在编译后的字节码文件中就已经替换为原来的原生类型了，并且在相应的地方插入了强制转型代码。因此泛型技术实际上是Java语言的一颗语法糖，Java语言中的泛型实现方法称为类型擦除。

#### 自动装箱、拆箱与遍历循环


解释型编译器和即使编译器